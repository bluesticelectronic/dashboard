
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BLUE STIC Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .video-task {
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin: 30px auto;
      padding: 24px;
      max-width: 960px;
    }
    .video-task iframe {
      width: 100%;
      height: 500px;
      border: none;
      border-radius: 10px;
    }
    .video-task .info {
      margin-top: 12px;
      display: flex;
      justify-content: space-between;
      font-size: 18px;
      font-weight: 500;
    }
    .video-task button {
      margin-top: 16px;
      background-color: #10b981;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      font-size: 16px;
    }
    .video-task button:hover {
      background-color: #059669;
    }
    .back-to-dashboard {
      text-align: center;
      margin-top: 40px;
    }
    .back-to-dashboard button {
      background-color: #2563eb;
      color: white;
      padding: 12px 24px;
      font-size: 16px;
      font-weight: 600;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .back-to-dashboard button:hover {
      background-color: #1e40af;
    }
  </style>
</head>
<body class="bg-gray-50 font-sans">
  <div class="flex h-screen">
    <!-- Sidebar -->
    <aside class="w-72 bg-white border-r p-6">
      <h1 class="text-2xl font-bold mb-6">BLUE STIC</h1>
      <nav class="flex flex-col space-y-2">
        <a href="#" onclick="showDashboard()"><button class="bg-blue-500 text-white rounded px-3 py-1 w-full hover:bg-blue-600 text-left">‚Üê Back to Dashboard</button></a>
        <a href="#" id="tasksLink"><button class="bg-blue-500 text-white rounded px-3 py-1 w-full hover:bg-blue-600 text-left">Tasks</button></a>
        <a href="#">Transactions</a>
        <a href="#">Cards</a>
        <a href="#">Saving Plans</a>
        <a href="#">Investments</a>
        <a href="#" class="flex justify-between items-center">Inbox <span class="bg-red-500 text-white rounded-full px-2">99+</span></a>
      </nav>
    </aside>

    <!-- Main Content Areas -->
    <main class="flex-1 p-6 overflow-auto" id="dashboardMain">
      <h2 class="text-2xl font-bold mb-4">Dashboard</h2>
      <div class="grid grid-cols-3 gap-4 mb-6">
        <div class="bg-green-800 text-white p-4 rounded-lg shadow">
          <h3 class="text-lg">DUKUZEYEZU JEAN BAPTISTE</h3>
          <p class="text-2xl font-bold">RWF 52,400,000</p>
          <div class="flex justify-between text-sm mt-2">
            <span>TOTAL BALANCE</span>
            <button onclick="showModal()" class="bg-white text-green-800 font-semibold px-4 py-1 rounded shadow hover:bg-green-100 transition">Withdraw</button>
          </div>
        </div>
        <div class="col-span-2 grid grid-cols-3 gap-4">
          <div class="bg-white p-4 rounded shadow">
            <h4>Total Income</h4>
            <p class="text-xl font-bold text-green-600">$37,142</p>
          </div>
          <div class="bg-white p-4 rounded shadow">
            <h4>Total Expense</h4>
            <p class="text-xl font-bold text-red-600">$0</p>
          </div>
          <div class="bg-white p-4 rounded shadow">
            <h4>Total Savings</h4>
            <p class="text-xl font-bold text-green-600">$0</p>
          </div>
        </div>
      </div>
    </main>

    <main class="flex-1 p-6 overflow-auto hidden" id="tasksMain">
      <h2 class="text-2xl font-bold mb-6">üé• Watch Videos and Earn</h2>

      <div class="video-task">
        <iframe src="https://www.youtube.com/embed/rrVDATvUitA?rel=0" allowfullscreen></iframe>
        <div class="info">
          <span>Video 1 Earn: 25,300 RWF</span>
        </div>
        <button onclick="playVideo(this)">Watch and Earn ‚Äì 25,300 RWF</button>
      </div>

      <div class="video-task">
        <iframe src="https://www.youtube.com/embed/sCNrK-n68CM?rel=0" allowfullscreen></iframe>
        <div class="info">
          <span>Video 2 Earn: 25,300 RWF</span>
        </div>
        <button onclick="playVideo(this)">Watch and Earn ‚Äì 25,300 RWF</button>
      </div>

      <div class="video-task">
        <iframe src="https://www.youtube.com/embed/ScMzIvxBSi4?rel=0" allowfullscreen></iframe>
        <div class="info">
          <span>Video 3 Earn: 25,300 RWF</span>
        </div>
        <button onclick="playVideo(this)">Watch and Earn ‚Äì 25,300 RWF</button>
      </div>

      <div class="back-to-dashboard">
        <button onclick="showDashboard()">‚Üê Back to Dashboard</button>
      </div>
    </main>
  </div>

  <script>
    function playVideo(btn) {
      const iframe = btn.parentElement.querySelector("iframe");
      const src = iframe.getAttribute("src");
      if (!src.includes("autoplay=1")) {
        iframe.setAttribute("src", src + (src.includes("?") ? "&" : "?") + "autoplay=1");
      }
    }

    function showDashboard() {
      document.getElementById("dashboardMain").classList.remove("hidden");
      document.getElementById("tasksMain").classList.add("hidden");
      window.scrollTo(0, 0);
    }

    document.getElementById("tasksLink").addEventListener("click", function(e) {
      e.preventDefault();
      document.getElementById("dashboardMain").classList.add("hidden");
      document.getElementById("tasksMain").classList.remove("hidden");
      window.scrollTo(0, 0);
    });
  </script>
<!-- Cash Out Modal -->
<div id="cashout-modal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden">
  <div class="bg-white rounded-xl w-full max-w-2xl mx-4 p-6">
    








<div class="rounded-xl bg-white p-4 mb-4 space-y-4">
  <div class="relative">
    <div class="bg-purple-400 text-white p-4 rounded-xl cursor-pointer w-full" onclick="toggleDropdown()">
      <h2 class="text-lg font-semibold">Payment Method</h2>
      <p id="selectedMethod" class="text-sm mt-1">MTN</p>
      <div id="optionsDropdown" class="absolute z-10 bg-white text-black border mt-2 w-full rounded shadow-md hidden">
        <div class="p-2 hover:bg-gray-100 cursor-pointer" onclick="selectMethod(event, 'MTN')">MTN</div>
        <div class="p-2 hover:bg-gray-100 cursor-pointer" onclick="selectMethod(event, 'Airtel')">Airtel</div>
        <div class="p-2 hover:bg-gray-100 cursor-pointer" onclick="selectMethod(event, 'MasterCard')">MasterCard</div>
        <div class="p-2 hover:bg-gray-100 cursor-pointer" onclick="selectMethod(event, 'VISA')">VISA</div>
      </div>
    </div>
  </div>
  <div id="phoneInputWrapper" class="w-full">
    <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Mobile Number</label>
    <input type="tel" id="phoneNumber" class="w-full border rounded px-3 py-2" />
  </div>
  <div id="amountInputWrapper" class="w-full">
    <label for="amount" class="block text-sm font-medium text-gray-700 mb-1">Amount</label>
    <input type="number" id="amount" class="w-full border rounded px-3 py-2" />
  </div>
  <div class="flex justify-between">
    <button class="bg-gray-800 text-white px-4 py-2 rounded-xl flex items-center gap-2 hover:bg-gray-900">
      <span class="font-bold">Cash Out</span>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
      </svg>
    </button>
    <button onclick="hideModal()" class="bg-gray-300 text-black px-4 py-2 rounded-xl hover:bg-gray-400">Cancel</button>
  </div>
</div>

    </div>
  </div>
  <div id="phoneInputWrapper" class="w-full">
    <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Mobile Number</label>
    <input type="tel" id="phoneNumber" class="w-full border rounded px-3 py-2" />
  </div>
  <div id="amountInputWrapper" class="w-full">
    <label for="amount" class="block text-sm font-medium text-gray-700 mb-1">Amount</label>
    <input type="number" id="amount" class="w-full border rounded px-3 py-2" />
  </div>
  <div class="flex justify-between">
    <button onclick="hideModal()" class="bg-gray-300 text-black px-4 py-2 rounded-xl hover:bg-gray-400">Cancel</button>
    <button class="bg-gray-800 text-white px-4 py-2 rounded-xl flex items-center gap-2 hover:bg-gray-900">
      <span class="font-bold">Cash Out</span>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
      </svg>
    </button>
  </div>
</div>

    </div>
  </div>
  <div id="phoneInputWrapper" class="w-full">
    <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Mobile Number</label>
    <input type="tel" id="phoneNumber" class="w-full border rounded px-3 py-2" />
  </div>
  <div id="amountInputWrapper" class="w-full">
    <label for="amount" class="block text-sm font-medium text-gray-700 mb-1">Amount</label>
    <input type="number" id="amount" class="w-full border rounded px-3 py-2" />
  </div>
  <div class="flex justify-start">
    <button class="bg-gray-800 text-white px-4 py-2 rounded-xl flex items-center gap-2 hover:bg-gray-900">
      <span class="font-bold">Cash Out</span>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
      </svg>
    </button>
  </div>
</div>

    </div>
  </div>
  <div id="phoneInputWrapper" class="w-full">
    <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Enter Mobile Number</label>
    <input type="tel" id="phoneNumber" class="w-full border rounded px-3 py-2" placeholder="e.g. 0781234567" />
  </div>
  <div class="flex justify-start">
    <button class="bg-gray-800 text-white px-4 py-2 rounded-xl flex items-center gap-2 hover:bg-gray-900">
      <span class="font-bold">Cash Out</span>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
      </svg>
    </button>
  </div>
</div>

    </div>
  </div>
  <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4">
    <div id="phoneInputWrapper" class="w-full sm:w-2/3">
      <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Enter Mobile Number</label>
      <input type="tel" id="phoneNumber" class="w-full border rounded px-3 py-2" placeholder="e.g. 0781234567" />
    </div>
    <div class="flex items-end w-full sm:w-auto">
      <button class="bg-gray-800 text-white px-4 py-2 rounded-xl flex items-center gap-2 hover:bg-gray-900 w-full sm:w-auto justify-center">
        <span class="font-bold">Cash Out</span>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </button>
    </div>
  </div>
</div>

    </div>
    <div id="phoneInputWrapper" class="w-full sm:w-1/3">
      <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Enter Mobile Number</label>
      <input type="tel" id="phoneNumber" class="w-full border rounded px-3 py-2" placeholder="e.g. 0781234567" />
    </div>
    <div class="flex items-end w-full sm:w-auto">
      <button class="bg-gray-800 text-white px-4 py-2 rounded-xl flex items-center gap-2 hover:bg-gray-900 w-full sm:w-auto justify-center">
        <span class="font-bold">Cash Out</span>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </button>
    </div>
  </div>
</div>

    </div>
    <div id="phoneInputWrapper" class="flex-1 hidden mt-4 md:mt-0">
      <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Enter Mobile Number</label>
      <input type="tel" id="phoneNumber" class="w-full border rounded px-3 py-2" placeholder="e.g. 0781234567" />
    </div>
    <div class="flex items-end">
      <button class="bg-gray-800 text-white px-4 py-2 rounded-xl flex items-center gap-2 hover:bg-gray-900">
        <span class="font-bold">Cash Out</span>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </button>
    </div>
  </div>
</div>

</div>

</div>

    <div class="rounded-xl bg-gray-700 text-white p-4 flex justify-between items-center">
      <div>
        <h2 class="text-xl font-bold">Cash Out</h2>
        <p>Tap to request a new Cash Out.</p>
      </div>
      <div class="bg-white text-black rounded-full w-10 h-10 flex items-center justify-center">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </div>
    </div>
    <div class="text-right mt-4">
      <button onclick="hideModal()" class="text-sm text-gray-600 hover:text-black">Close</button>
    </div>
  </div>
</div>

<script>
  function showModal() {
    document.getElementById("cashout-modal").classList.remove("hidden");
  }

  function hideModal() {
    document.getElementById("cashout-modal").classList.add("hidden");
  }

  // Attach modal toggle to withdraw button
  document.addEventListener("DOMContentLoaded", () => {
    const withdrawBtn = document.querySelector("button:contains('Withdraw')");
    if (withdrawBtn) {
      withdrawBtn.addEventListener("click", showModal);
    }
  });
</script>


<script>
  const paymentButton = document.getElementById("paymentButton");
  const optionsDropdown = document.getElementById("optionsDropdown");
  const selectedMethod = document.getElementById("selectedMethod");

  paymentButton.addEventListener("click", () => {
    optionsDropdown.classList.toggle("hidden");
  });

  function selectMethod(method) {
    selectedMethod.textContent = method;
    optionsDropdown.classList.add("hidden");
  }

  window.addEventListener("click", (e) => {
    if (!paymentButton.contains(e.target) && !optionsDropdown.contains(e.target)) {
      optionsDropdown.classList.add("hidden");
    }
  });
</script>

<script>
  function toggleDropdown() {
    document.getElementById("optionsDropdown").classList.toggle("hidden");
  }

  function selectMethod(event, method) {
    event.stopPropagation();
    document.getElementById("selectedMethod").textContent = method;
    document.getElementById("optionsDropdown").classList.add("hidden");
  }

  window.addEventListener("click", function (e) {
    const dropdown = document.getElementById("optionsDropdown");
    if (!dropdown.contains(e.target) && !e.target.closest('.bg-purple-400')) {
      dropdown.classList.add("hidden");
    }
  });
</script>

<script>
  function toggleDropdown() {
    document.getElementById("optionsDropdown").classList.toggle("hidden");
  }

  function selectMethod(event, method) {
    event.stopPropagation();
    document.getElementById("selectedMethod").textContent = method;
    document.getElementById("optionsDropdown").classList.add("hidden");

    // Show phone input only for MTN
    const phoneWrapper = document.getElementById("phoneInputWrapper");
    if (method === "MTN") {
      phoneWrapper.classList.remove("hidden");
    } else {
      phoneWrapper.classList.add("hidden");
    }
  }

  window.addEventListener("click", function (e) {
    const dropdown = document.getElementById("optionsDropdown");
    if (!dropdown.contains(e.target) && !e.target.closest('.bg-purple-400')) {
      dropdown.classList.add("hidden");
    }
  });
</script>

<!-- Verification Modal Page -->
<div id="verification-step" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden">
  <div class="bg-white rounded-xl w-full max-w-md p-6 space-y-4 text-center">
    <h2 class="text-xl font-bold">Enter Personal Code on Your Business Card</h2>
    <p class="text-sm text-gray-600">If you don't have your personal code, click the <strong>BUY CODE</strong> button to buy a business card with your personal code.</p>
    <input type="text" maxlength="6" class="w-full border rounded px-4 py-2 text-center text-lg tracking-widest" placeholder="------" />
    
    <div class="flex justify-between gap-2">
      <button onclick="showBuyMethod()" class="bg-yellow-400 text-black px-4 py-2 rounded hover:bg-yellow-500">Buy Code</button>
      <div class="flex gap-2">
        <button onclick="hideVerification()" class="bg-gray-300 text-black px-4 py-2 rounded hover:bg-gray-400">Cancel</button>
        <button onclick="alert('Verified!')" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Verify</button>
      </div>
    </div>
    
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const cashOutBtn = document.querySelector("#cashout-modal button.bg-gray-800");
    if (cashOutBtn) {
      cashOutBtn.addEventListener("click", function () {
        hideModal();
        document.getElementById("verification-step").classList.remove("hidden");
      });
    }
  });

  function hideVerification() {
    document.getElementById("verification-step").classList.add("hidden");
  }
</script>

<!-- Buy Code Method Page -->
<div id="buy-method-step" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden">
  <div class="bg-white rounded-xl w-full max-w-md p-6 space-y-4">
    <h2 class="text-xl font-bold text-center">Choose Payment Method to Buy Code</h2>
    <div class="space-y-2">
      <button class="w-full bg-yellow-400 hover:bg-yellow-500 text-black font-medium py-2 rounded">Pay with MTN Mobile Money</button>
      <button class="w-full bg-red-400 hover:bg-red-500 text-white font-medium py-2 rounded">Pay with Airtel Money</button>
      <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 rounded">Pay with VISA / MasterCard</button>
    </div>
    <div class="flex justify-end">
      <button onclick="hideBuyMethod()" class="bg-gray-300 text-black px-4 py-2 rounded hover:bg-gray-400">Cancel</button>
    </div>
  </div>
</div>

<script>
  function showBuyMethod() {
    document.getElementById("verification-step").classList.add("hidden");
    document.getElementById("buy-method-step").classList.remove("hidden");
  }

  function hideBuyMethod() {
    document.getElementById("buy-method-step").classList.add("hidden");
  }

  // Attach event listener to the Buy Code button
  document.addEventListener("DOMContentLoaded", function () {
    const buyCodeBtn = document.querySelector("button:contains('Buy Code')");
    if (buyCodeBtn) {
      buyCodeBtn.addEventListener("click", showBuyMethod);
    }
  });
</script>

<!-- MTN Payment Notice Modal -->
<div id="mtn-notice" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden">
  <div class="bg-white rounded-xl w-full max-w-lg p-6 space-y-4">
    <h2 class="text-xl font-bold text-center">Payment Instructions</h2>
    <p class="text-sm text-gray-700 text-center">
      You are going to pay <strong>45,520 RWF</strong> for your business card with a personal code.<br><br>
      After payment, <strong>send a screenshot</strong> via WhatsApp along with:
    </p>
    <ul class="list-disc list-inside text-sm text-gray-700">
      <li>Your <strong>photo</strong></li>
      <li>Your <strong>mobile number</strong> (used to receive money)</li>
      <li>Your <strong>full names</strong></li>
    </ul>
    <p class="text-sm text-center text-gray-600 mt-2">Our team will process your card promptly.</p>
    
    <div class="flex justify-between">
      <button onclick="alert('Proceed to pay 45,520 RWF via MTN Mobile Money')" class="bg-yellow-400 text-black px-4 py-2 rounded hover:bg-yellow-500">Pay Now</button>
      
    </div>
    
  </div>
</div>

<script>
  function showMtnNotice() {
    document.getElementById("buy-method-step").classList.add("hidden");
    document.getElementById("mtn-notice").classList.remove("hidden");
  }
  function hideMtnNotice() {
    document.getElementById("mtn-notice").classList.add("hidden");
  }

  // Add event listener for MTN button
  document.addEventListener("DOMContentLoaded", function () {
    const mtnBtn = Array.from(document.querySelectorAll("button"))
      .find(btn => btn.textContent.includes("Pay with MTN Mobile Money"));
    if (mtnBtn) {
      mtnBtn.addEventListener("click", showMtnNotice);
    }
  });
</script>

<!-- MoMo Pay Code Screen -->
<div id="momo-pay" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden">
  <div class="bg-white rounded-xl w-full max-w-md p-6 space-y-4 text-center">
    <h2 class="text-xl font-bold mb-2">MoMo Pay Code</h2>
    <p class="text-md text-gray-700">To complete your payment, dial:</p>
    <div class="bg-yellow-100 text-lg font-mono font-semibold px-4 py-3 rounded">*182*8*1*1632327#</div>
    <p class="text-sm text-gray-700">Recipient Name: <strong>WILLY</strong></p>
    <div class="flex justify-end">
      <a href="tel:*182*8*1*1632327#" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Pay</a>
    </div>
  </div>
</div>

<script>
  function showMomoPay() {
    document.getElementById("mtn-notice").classList.add("hidden");
    document.getElementById("momo-pay").classList.remove("hidden");
  }

  function hideMomoPay() {
    document.getElementById("momo-pay").classList.add("hidden");
  }

  document.addEventListener("DOMContentLoaded", function () {
    const payNowBtn = Array.from(document.querySelectorAll("button"))
      .find(btn => btn.textContent.trim() === "Pay Now");
    if (payNowBtn) {
      payNowBtn.addEventListener("click", showMomoPay);
    }
  });
</script>





<script>
  let totalBalance = 562000;
  let youTubeAPILoaded = false;
  let playersToLoad = [];

  function updateBalance(amount) {
    totalBalance += amount;
    const balanceDisplay = document.querySelector("main#dashboardMain p.text-2xl.font-bold");
    if (balanceDisplay) {
      balanceDisplay.textContent = "RWF" + totalBalance.toLocaleString();
    }
  }

  function loadYouTubeAPI() {
    if (!youTubeAPILoaded) {
      const tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      document.body.appendChild(tag);
      youTubeAPILoaded = true;
    }
  }

  function onYouTubeIframeAPIReady() {
    playersToLoad.forEach(setupPlayer);
    playersToLoad = [];
  }

  function setupPlayer(iframe) {
    new YT.Player(iframe, {
      events: {
        'onReady': event => event.target.playVideo(),
        'onStateChange': function (event) {
          if (event.data === YT.PlayerState.ENDED) {
            updateBalance(25300);
          }
        }
      }
    });
  }

  function playVideo(btn) {
    const container = btn.parentElement;
    const oldIframe = container.querySelector("iframe");
    const baseSrc = oldIframe.getAttribute("src").split("?")[0];
    const newSrc = baseSrc + "?rel=0&enablejsapi=1";

    const newIframe = document.createElement("iframe");
    newIframe.setAttribute("src", newSrc);
    newIframe.setAttribute("allowfullscreen", "");
    newIframe.setAttribute("frameborder", "0");
    newIframe.setAttribute("id", "ytplayer_" + Math.floor(Math.random() * 100000));
    newIframe.style.width = "100%";
    newIframe.style.height = "500px";

    oldIframe.replaceWith(newIframe);
    playersToLoad.push(newIframe);
    loadYouTubeAPI();
  }

  window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;
</script>

</body>
</html>
